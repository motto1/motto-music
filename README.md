# Motto Music

Motto Music æ˜¯ä¸€æ¬¾ç”± Flutter é©±åŠ¨çš„è·¨å¹³å°å¼€æºéŸ³ä¹æ’­æ”¾å™¨ï¼Œé¢å‘â€œæœ¬åœ°æ”¶è— + ç§äººäº‘ + Bilibili éŸ³æºâ€ä½¿ç”¨åœºæ™¯ã€‚é¡¹ç›®ç›®æ ‡æ˜¯æä¾›ç¨³å®šã€å¯å®šåˆ¶ã€å¼€ç®±å³ç”¨çš„éŸ³ä¹ä½“éªŒï¼Œå¹¶ä¿æŒå¯¹æ¡Œé¢ä¸ç§»åŠ¨ç«¯ä¸€è‡´çš„ä½“éªŒè®¾è®¡ã€‚

---

## âœ¨ ç‰¹è‰²èƒ½åŠ›

| èƒ½åŠ› | è¯´æ˜ |
| --- | --- |
| ğŸ§ å¤šæºéŸ³é¢‘ | åŒæ—¶æ”¯æŒæœ¬åœ°æ–‡ä»¶ã€Bilibili éŸ³æºã€WebDAV/è‡ªå»º NASï¼ˆæ­£åœ¨æ‰©å±•ä¸­ï¼‰ |
| ğŸ“² å…¨å¹³å°ä½“éªŒ | Flutter æ¸²æŸ“ + å¹³å°åŸç”Ÿå¢å¼ºã€‚å·²éªŒè¯ Windows / macOS / Linux / Android / iOS |
| ğŸ§  æ™ºèƒ½æ­Œè¯ | è‡ªåŠ¨è§£æ LRC/TTMLï¼Œå†…ç½®æ­Œè¯æœç´¢ã€åç§»ä¸æ‰‹åŠ¨å¯¼å…¥å·¥å…· |
| ğŸ–¼ï¸ å¯è§†åŒ–æ’­æ”¾å™¨ | Apple Music é£æ ¼ç•Œé¢ã€åŠ¨æ€å°é¢ã€å¯æŠ˜å èœå•ä¸æ’­æ”¾æ§åˆ¶ |
| ğŸ“‚ è‡ªå®šä¹‰ä¸‹è½½ç›®å½• | å®‰å“ç«¯é»˜è®¤å†™å…¥ `Music/MottoMusic/Bilibili`ï¼Œå¯åœ¨è®¾ç½®ä¸­é•¿æŒ‰ä¿®æ”¹ï¼Œç‚¹å‡»å³å¯æ‰“å¼€ç›®å½• |
| ğŸ” åå°ä¸‹è½½ & è‡ªåŠ¨ç¼“å­˜ | å¯è°ƒå¹¶å‘ã€ä»… Wi-Fi ä¸‹è½½ã€LRU ç¼“å­˜ç®¡ç†ã€å¤±è´¥é‡è¯• |
| ğŸ§© å¯æ‰©å±•æœåŠ¡å±‚ | Bilibili ç™»å½•ã€è§£æã€ä¸‹è½½ã€ç¼“å­˜ã€æ­Œè¯ã€æ’­æ”¾ç­‰ä»¥ Service å½¢å¼æŒ‰éœ€æ›¿æ¢æˆ–å¤ç”¨ |

---

## ğŸ—ï¸ æŠ€æœ¯æ ˆ

- **Flutter 3.3+ / Dart 3**ï¼šUIã€çŠ¶æ€ä¸è·¯ç”±æ ¸å¿ƒ
- **Drift + sqlite3_flutter_libs**ï¼šè·¨å¹³å°æ•°æ®åº“å±‚ï¼ˆSong / Download / UserSettings ç­‰ï¼‰
- **audio_service + just_audio**ï¼šè·¨å¹³å°æ’­æ”¾ä¸é€šçŸ¥æ æ§åˆ¶
- **Dio / connectivity_plus / permission_handler**ï¼šç½‘ç»œã€æƒé™ä¸ä¸‹è½½
- **OpenFilex / FilePicker**ï¼šç³»ç»Ÿç›®å½•è®¿é—®ä¸å¯è§†åŒ–æ–‡ä»¶äº¤äº’
- **è‡ªå»º Service æ¨¡å—**ï¼š`bilibili`, `lyrics`, `cache`, `platform` ç­‰

---

## ğŸ“ é¡¹ç›®ç»“æ„é€Ÿè§ˆ

```
lib/
â”œâ”€ services/            # ä¸šåŠ¡æœåŠ¡ï¼ˆBilibiliã€æ­Œè¯ã€ç¼“å­˜ã€ä¸‹è½½ã€æ’­æ”¾å™¨ç­‰ï¼‰
â”œâ”€ views/               # é¡µé¢ï¼ˆSettingsã€Libraryã€Bilibili ç›¸å…³ç­‰ï¼‰
â”œâ”€ widgets/             # å¤ç”¨ç»„ä»¶ï¼ˆæ­Œè¯å·¥å…·ã€æ’­æ”¾å™¨æ§ä»¶ã€å¯¹è¯æ¡†ç­‰ï¼‰
â”œâ”€ models/              # æ•°æ®æ¨¡å‹ï¼ˆDrift æ•°æ®ç±»ã€Lyricsã€Download äº‹ä»¶ç­‰ï¼‰
â”œâ”€ database/            # Drift å®šä¹‰åŠé€‚é…å±‚
â”œâ”€ platform/            # æ¡Œé¢ & ç§»åŠ¨å¹³å°å¢å¼ºèƒ½åŠ›
â””â”€ utils/               # é€šç”¨å·¥å…·ï¼ˆä¸»é¢˜ã€è§£æã€è·¯å¾„å¤„ç†ç­‰ï¼‰
```

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒè¦æ±‚

- Flutter >= 3.3ï¼ˆæ¨èä½¿ç”¨æœ€æ–° stable channelï¼‰
- Dart >= 3.3
- Android SDK / Xcode / Visual Studioï¼ˆè§†ç›®æ ‡å¹³å°è€Œå®šï¼‰
- Gitï¼ˆç”¨äºæ‹‰å–/æäº¤ä»£ç ï¼‰

### 2. å…‹éš†ä»“åº“

```bash
git clone https://github.com/<your-account>/motto-music.git
cd motto-music
flutter pub get
```

### 3. è¿è¡Œ / æ„å»º

```bash
# Android / iOS / Web / macOS / Windows / Linux
flutter run -d <device-id>

# æ¡Œé¢ Releaseï¼ˆç¤ºä¾‹ï¼‰
flutter build macos

# Android å®‰è£…åŒ…
flutter build apk --split-per-abi
```

> **æç¤º**ï¼šæ¡Œé¢ç«¯é¦–æ¬¡è¿è¡Œä¼šåœ¨ç”¨æˆ·æ–‡æ¡£ç›®å½•åˆ›å»º `Motto-Music` æ ¹ç›®å½•ï¼ŒåŒ…å«ä¸‹è½½ã€ç¼“å­˜ç­‰å­ç›®å½•ã€‚

---

## âš™ï¸ Bilibili è®¾ç½®ä¸ä¸‹è½½ç›®å½•

1. è¿›å…¥ **è®¾ç½® > Bilibili è®¾ç½®**ã€‚
2. ç‚¹å‡»â€œä¸‹è½½ç›®å½•â€å³å¯ç›´æ¥è·³è½¬åˆ°å½“å‰ç›®å½•ã€‚é»˜è®¤è·¯å¾„ï¼š
   - Androidï¼š`/storage/emulated/0/Music/MottoMusic/Bilibili`
   - å…¶ä»–å¹³å°ï¼š`~/Documents/Motto-Music/downloads/bilibili`
3. é•¿æŒ‰â€œä¸‹è½½ç›®å½•â€å¯é€‰æ‹©æ–°çš„ä¿å­˜è·¯å¾„ï¼Œé…ç½®ä¼šä¿å­˜åˆ° `UserSettings` è¡¨ï¼Œä¸‹è½½æœåŠ¡ä¸ç¼“å­˜æœåŠ¡éƒ½ä¼šè‡ªåŠ¨è¯»å–ã€‚
4. æ”¯æŒçš„ä¸‹è½½ç‰¹æ€§ï¼š
   - æœ€å¤§ 5 è·¯å¹¶å‘ï¼ˆé»˜è®¤ 3ï¼‰
   - ä»… Wi-Fi ä¸‹è½½ / è‡ªåŠ¨é‡è¯•
   - æ–­ç‚¹ç»­ä¼ ã€å¤±è´¥æ¢å¤ã€ä»»åŠ¡åˆ é™¤

---

## ğŸ›£ï¸ Roadmap

- [ ] **WebDAV / ç§äººäº‘å®Œå–„**ï¼šæ”¯æŒæ›´å¤šç½‘ç›˜ / NAS çš„æŒ‚è½½ä¸åŒæ­¥ç­–ç•¥
- [ ] **Bilibili è´¦å·å¤šç«¯è”åŠ¨**ï¼šå¤šè´¦å·ä¼šè¯ã€æ’­æ”¾å†å²åŒæ­¥ã€æ™ºèƒ½æ¨è
- [ ] **å¯æ’æ‹”æ­Œè¯/éŸ³æº Provider**ï¼šå®šä¹‰ç»Ÿä¸€æ¥å£ä»¥å…¼å®¹ç¬¬ä¸‰æ–¹æ­Œè¯/éŸ³æºæœåŠ¡
- [ ] **UI ä¸»é¢˜ç¼–è¾‘å™¨**ï¼šé¢å‘æ¡Œé¢å’Œç§»åŠ¨çš„å®æ—¶ä¸»é¢˜å®šåˆ¶
- [ ] **CI æ„å»ºæµæ°´çº¿**ï¼šå¼•å…¥ GitHub Actions äº§å‡ºå¤šå¹³å°å®‰è£…åŒ…
- [ ] **æ’ä»¶ç”Ÿæ€**ï¼šå¼€æ”¾ Service Hookï¼Œå…è®¸ç¤¾åŒºæ‰©å±•ä¸‹è½½/ç¼“å­˜/è§£æèƒ½åŠ›

æ¬¢è¿é€šè¿‡ Issue/Discussions æäº¤æ–°çš„è·¯çº¿å»ºè®®ã€‚

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork ä»“åº“å¹¶åˆ›å»ºåˆ†æ”¯ï¼š`git checkout -b feat/my-feature`
2. æäº¤å‰è¿è¡Œ `flutter format` ä¸å¿…è¦çš„ `flutter test`
3. æäº¤ä¿¡æ¯éµå¾ª Conventional Commitsï¼Œç¤ºä¾‹ï¼š`feat(bilibili): support custom download directory`
4. æäº¤ PR å‰è¯·ç¡®è®¤ï¼š
   - æ–°å¢/æ›´æ–°æ–‡æ¡£
   - åŒ…å«å¿…è¦çš„æˆªå›¾ / æ—¥å¿— / å¤ç°æ­¥éª¤
   - æœªå¼•å…¥æ•æ„Ÿä¿¡æ¯ã€æœªæäº¤ç¼–è¯‘äº§ç‰©

æˆ‘ä»¬æ¬¢è¿ä»»ä½•å½¢å¼çš„è´¡çŒ®ï¼ŒåŒ…æ‹¬ Bug åé¦ˆã€æ–°ç‰¹æ€§ææ¡ˆå’Œ UI è®¾è®¡å»ºè®®ã€‚

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®åŸºäº **Apache License 2.0** å¼€æºã€‚è¯¦è§ [LICENSE](LICENSE)ã€‚

---

## ğŸ™ è‡´è°¢

- Flutter / Dart å®˜æ–¹å›¢é˜Ÿä¸ç¤¾åŒº
- audio_serviceã€just_audioã€drift ç­‰ä¼˜ç§€å¼€æºé¡¹ç›®
- ç¤¾åŒºè´¡çŒ®è€…ä¸æ—©æœŸå†…æµ‹ç”¨æˆ·æä¾›çš„åé¦ˆ

---

> å‡†å¤‡å¥½è®© Motto Music æˆä¸ºä½ çš„ç§äººéŸ³ä¹æ¢çº½äº†å—ï¼ŸFork é¡¹ç›®ã€Star æ”¯æŒã€åˆ†äº«ç»™æ›´å¤šéŸ³é¢‘çˆ±å¥½è€…å§ï¼
